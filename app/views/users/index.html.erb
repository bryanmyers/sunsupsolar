<% provide(:title, 'User List') %>
<h2>Registered Users</h2>

<% will_paginate %>

<div class="table-responsive">
<table class="table table-bordered">
  <thead>
    <tr>
      <th>Name</th>
      <th>Address</th>
      <th>Phone</th>
      <th>Best TTC</th>
      <th>Email</th>
      <th>Zip Code</th>
      <th>E Bill</th>
      <th>Access Level</th>
      <th></th>
    </tr>
  </thead>

  <tbody>
    <% @users.each do |user| %>
      <tr>
        <td><%= user.name %></td>
        <td><%= user.address %></td>
        <td><% pn = Phoner::Phone.parse(user.phone.to_s) %>
            <%= pn.format('(%a) %f-%l') %></td>
        <td><%= user.best_time %></td>
        <td><%= user.email %></td>
        <td><%= user.zip %></td>
        <td><%= user.e_bill %></td>
        <td><%= user.access %></td>
        <td><%= link_to 'Delete', user, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>
</div>
<% will_paginate %>

<%= link_to 'New User', new_user_path %>
<br>